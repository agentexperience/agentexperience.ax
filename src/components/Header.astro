---
const currentPath = Astro.url.pathname;
const isHomePage = currentPath === '/';

// Don't show the header on the home page
if (isHomePage) {
  return null;
}

const navItems = [
  { href: '/concepts/getting-started', label: 'Concepts' },
  { href: '/articles', label: 'Articles' },
  { href: '/research', label: 'Research' },
];
---

<header class="bg-white border-b border-primary/10 h-16">
  <div class="max-w-6xl mx-auto px-4 h-full flex items-center justify-between">
    <a href="/" class="relative inline-flex items-center text-xl font-semibold text-primary hover:text-primary-dark transition-colors group overflow-visible">
      <span class="hidden sm:inline">Agent Experience</span>
      <span class="sm:hidden">AX</span>
      <svg 
        class="ml-2 opacity-0 group-hover:opacity-100 transition-all duration-300 group-hover:translate-x-0 translate-x-[-10px] logo-shake"
        width="20" height="20" viewBox="0 0 193 194" fill="none" xmlns="http://www.w3.org/2000/svg"
      >
        <path fill-rule="evenodd" clip-rule="evenodd" d="M193.087 109.796C149.183 114.977 114.357 149.804 109.177 193.708L83.2047 193.708C78.0619 150.122 43.7014 115.482 0.247322 109.913L0.24732 84.6623C43.7013 79.0933 78.0617 44.4539 83.2046 0.868113L109.177 0.86811C114.358 44.7719 149.183 79.5983 193.087 84.7795L193.087 109.796Z" fill="currentColor"/>
      </svg>
    </a>
    <nav class="flex items-center gap-2">
      {navItems.map(item => (
        <a
          href={item.href}
          class:list={[
            'text-text-dark hover:text-primary-dark transition-colors px-1 py-2 min-w-[80px] md:min-w-[100px] text-center text-sm md:text-base',
            { 'text-primary font-medium': currentPath.startsWith(item.href) }
          ]}
        >
          {item.label}
        </a>
      ))}
    </nav>
  </div>
</header>

<style>
  @keyframes logo-shake {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-1deg); }
    75% { transform: rotate(1deg); }
  }

  .logo-shake {
    animation: logo-shake 0.5s ease-in-out;
    animation-delay: 0.15s;
  }
</style>